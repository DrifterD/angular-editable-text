!function(){"use strict";angular.module("gg.editableText",[])}(),function(){"use strict";angular.module("gg.editableText").directive("editableText",function(){return{scope:{editableText:"=",editMode:"@",onChange:"&"},template:'<span><input ng-show="isEditing" ng-blur="isEditing=false;" ng-model="editingValue"/><span ng-hide="isEditing || isWorking" ng-click="isEditing=true" >{{editingValue}}</span><span class="fa fa-spinner fa-spin text-muted" ng-show="isWorking">Working, please wait..</span></span>',link:function(a,b){var c=b.find("input");a.editingValue=a.editableText,b.addClass("gg-editable-text"),a.$watch("isEditing",function(d,e){var f;b[d?"addClass":"removeClass"]("editing"),d?c[0].focus():a.onChange&&d!==e&&(f=a.onChange({value:a.editingValue}),f&&f.then?(a.isWorking=!0,f.then(function(b){a.editableText=a.editingValue=b,a.isWorking=!1},function(){a.editingValue=a.editableText,a.isWorking=!1})):a.editableText=f?a.editingValue=f:a.editingValue)}),a.$watch("editingValue",function(){})}}})}();